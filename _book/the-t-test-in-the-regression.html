<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 13 The t test in the regression | Introduction to quantitative methods for economists</title>
  <meta name="description" content="This online introductory textbook offers the essential quantitative skills to students in economics and social sciences in general." />
  <meta name="generator" content="bookdown 0.25 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 13 The t test in the regression | Introduction to quantitative methods for economists" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This online introductory textbook offers the essential quantitative skills to students in economics and social sciences in general." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 13 The t test in the regression | Introduction to quantitative methods for economists" />
  
  <meta name="twitter:description" content="This online introductory textbook offers the essential quantitative skills to students in economics and social sciences in general." />
  

<meta name="author" content="Alessandro Bramucci" />


<meta name="date" content="2022-06-22" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="example-1.html"/>
<link rel="next" href="chapter9.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Introduction to quantitative methods <br> for economists</a></li>

<li class="divider"></li>
<li><a href="index.html#about-this-book">About this book<span></span></a>
<ul>
<li><a href="index.html#thanks">Thanks<span></span></a></li>
</ul></li>
<li class="part"><span><b>I Introduction to R<span></span></b></span></li>
<li class="chapter" data-level="1" data-path="chapter1.html"><a href="chapter1.html"><i class="fa fa-check"></i><b>1</b> Code 1<span></span></a></li>
<li class="chapter" data-level="2" data-path="chapter2.html"><a href="chapter2.html"><i class="fa fa-check"></i><b>2</b> Data extraction and manipulation using base R<span></span></a>
<ul>
<li class="chapter" data-level="2.1" data-path="chapter2.html"><a href="chapter2.html#conditional-selection"><i class="fa fa-check"></i><b>2.1</b> Conditional selection<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="chapter3.html"><a href="chapter3.html"><i class="fa fa-check"></i><b>3</b> Code 3<span></span></a></li>
<li class="part"><span><b>II Review of math and statistics<span></span></b></span></li>
<li class="chapter" data-level="4" data-path="chapter4.html"><a href="chapter4.html"><i class="fa fa-check"></i><b>4</b> Math<span></span></a>
<ul>
<li class="chapter" data-level="4.1" data-path="chapter4.html"><a href="chapter4.html#derivative-rules"><i class="fa fa-check"></i><b>4.1</b> Derivative rules<span></span></a></li>
<li class="chapter" data-level="4.2" data-path="chapter4.html"><a href="chapter4.html#matrix-operations"><i class="fa fa-check"></i><b>4.2</b> Matrix operations<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="chapter5.html"><a href="chapter5.html"><i class="fa fa-check"></i><b>5</b> Stats<span></span></a>
<ul>
<li class="chapter" data-level="5.1" data-path="chapter5.html"><a href="chapter5.html#find-mean-and-median"><i class="fa fa-check"></i><b>5.1</b> Find mean and median<span></span></a></li>
<li class="chapter" data-level="5.2" data-path="chapter5.html"><a href="chapter5.html#boxplot"><i class="fa fa-check"></i><b>5.2</b> Boxplot<span></span></a></li>
<li class="chapter" data-level="5.3" data-path="chapter5.html"><a href="chapter5.html#expected-value"><i class="fa fa-check"></i><b>5.3</b> Expected value<span></span></a></li>
<li class="chapter" data-level="5.4" data-path="chapter5.html"><a href="chapter5.html#variance"><i class="fa fa-check"></i><b>5.4</b> Variance<span></span></a></li>
<li class="chapter" data-level="5.5" data-path="chapter5.html"><a href="chapter5.html#correlation"><i class="fa fa-check"></i><b>5.5</b> Correlation<span></span></a></li>
<li class="chapter" data-level="5.6" data-path="chapter5.html"><a href="chapter5.html#covariance"><i class="fa fa-check"></i><b>5.6</b> Covariance<span></span></a></li>
<li class="chapter" data-level="5.7" data-path="chapter5.html"><a href="chapter5.html#expected-value-variance-and-covariance-rules"><i class="fa fa-check"></i><b>5.7</b> Expected value, variance and covariance rules<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="chapter6.html"><a href="chapter6.html"><i class="fa fa-check"></i><b>6</b> Inference<span></span></a></li>
<li class="chapter" data-level="7" data-path="example.html"><a href="example.html"><i class="fa fa-check"></i><b>7</b> Example<span></span></a>
<ul>
<li class="chapter" data-level="7.1" data-path="example.html"><a href="example.html#the-normal-distribution"><i class="fa fa-check"></i><b>7.1</b> The normal distribution<span></span></a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="the-standard-normal-distribution.html"><a href="the-standard-normal-distribution.html"><i class="fa fa-check"></i><b>8</b> The standard normal distribution<span></span></a></li>
<li class="chapter" data-level="9" data-path="exercises.html"><a href="exercises.html"><i class="fa fa-check"></i><b>9</b> Exercises<span></span></a></li>
<li class="part"><span><b>III Linear Regression<span></span></b></span></li>
<li class="chapter" data-level="10" data-path="chapter7.html"><a href="chapter7.html"><i class="fa fa-check"></i><b>10</b> Econometrics 1<span></span></a>
<ul>
<li class="chapter" data-level="10.1" data-path="chapter7.html"><a href="chapter7.html#the-linear-regression-model"><i class="fa fa-check"></i><b>10.1</b> The linear regression model<span></span></a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="chapter8.html"><a href="chapter8.html"><i class="fa fa-check"></i><b>11</b> Econometrics 2<span></span></a>
<ul>
<li class="chapter" data-level="11.1" data-path="chapter8.html"><a href="chapter8.html#the-basics-of-hypothesis-testing"><i class="fa fa-check"></i><b>11.1</b> The basics of hypothesis testing<span></span></a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="example-1.html"><a href="example-1.html"><i class="fa fa-check"></i><b>12</b> Example<span></span></a></li>
<li class="chapter" data-level="13" data-path="the-t-test-in-the-regression.html"><a href="the-t-test-in-the-regression.html"><i class="fa fa-check"></i><b>13</b> The <em>t</em> test in the regression<span></span></a>
<ul>
<li class="chapter" data-level="13.1" data-path="the-t-test-in-the-regression.html"><a href="the-t-test-in-the-regression.html#f-statistic-for-overall-significance-of-a-regression"><i class="fa fa-check"></i><b>13.1</b> F statistic for overall significance of a regression<span></span></a></li>
<li class="chapter" data-level="13.2" data-path="the-t-test-in-the-regression.html"><a href="the-t-test-in-the-regression.html#the-f-test"><i class="fa fa-check"></i><b>13.2</b> The <em>F</em> test<span></span></a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="chapter9.html"><a href="chapter9.html"><i class="fa fa-check"></i><b>14</b> Econometrics 3<span></span></a>
<ul>
<li class="chapter" data-level="14.1" data-path="chapter9.html"><a href="chapter9.html#linear-growth-model"><i class="fa fa-check"></i><b>14.1</b> Linear growth model<span></span></a>
<ul>
<li class="chapter" data-level="14.1.1" data-path="chapter9.html"><a href="chapter9.html#level-level-model"><i class="fa fa-check"></i><b>14.1.1</b> Level-level model<span></span></a></li>
<li class="chapter" data-level="14.1.2" data-path="chapter9.html"><a href="chapter9.html#log-level-model"><i class="fa fa-check"></i><b>14.1.2</b> Log-level model<span></span></a></li>
<li class="chapter" data-level="14.1.3" data-path="chapter9.html"><a href="chapter9.html#quadratic-regression-model-level-level"><i class="fa fa-check"></i><b>14.1.3</b> Quadratic regression model (level-level)<span></span></a></li>
<li class="chapter" data-level="14.1.4" data-path="chapter9.html"><a href="chapter9.html#quadratic-regression-model-log-level"><i class="fa fa-check"></i><b>14.1.4</b> Quadratic regression model (log-level)<span></span></a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="chapter9.html"><a href="chapter9.html#the-consumption-function"><i class="fa fa-check"></i><b>14.2</b> The consumption function<span></span></a></li>
</ul></li>
<li><a href="references.html#references">References<span></span></a></li>
<li class="divider"></li>
<li><a href="https://github.com/Alessandro1984/Intro_to_quant_methods" target="blank">GitHub repository</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction to quantitative methods for economists</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<link href="style.css" rel="stylesheet">
<div class="hero-image-container"> 
  <img class= "hero-image" src="images/fotohero.jpg">
</div>
<div id="the-t-test-in-the-regression" class="section level1 hasAnchor" number="13">
<h1><span class="header-section-number">Chapter 13</span> The <em>t</em> test in the regression<a href="the-t-test-in-the-regression.html#the-t-test-in-the-regression" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>We are now going to perform the test of the hypothesis on the population parameters of a simple bivariate linear regression model. The good news is that this procedure is done automatically by all statistical packages that run regressions. In our case, we are going to replicate the results provided with the output of the <span class="math inline">\(lm\)</span> function in R.</p>
<p>First, we perform a two-sided <em>t</em> test for the intercept parameter (<span class="math inline">\(\beta_0\)</span>). We want to test the null hypothesis (<span class="math inline">\(H_0\)</span>) that <span class="math inline">\(\beta_0 = 0\)</span> against the alternative hypothesis (<span class="math inline">\(H_1\)</span>) that <span class="math inline">\(\beta_0 \neq 0\)</span>. This is the kind of hypothesis test that is usually performed by linear regression function in software packages. Since we are interested in a two-sided test, we will take the absolute value of our <span class="math inline">\(t\)</span> statistic. We want to perform the test at the 5% significance level. We need to find the critical value for a 5% significance level with 524 degrees of freedom. We reject <span class="math inline">\(H_0\)</span> if <span class="math inline">\(|t_{\hat{\beta}_0}| &gt; t_{crit}\)</span> otherwise we will fail to reject <span class="math inline">\(H_0\)</span>.</p>
<pre><code>## [1] FALSE</code></pre>
<p>We fail to reject <span class="math inline">\(H_0\)</span> at the 5% significance level. Consequently, we will fail to reject the <span class="math inline">\(H_0\)</span> for every significance level smaller than 5%. Which one is the smallest significance level at which we still reject <span class="math inline">\(H_0\)</span>? We need to calculate the (in)famous p-value. In this case, it is given by <span class="math inline">\(P(|T| &gt; |t_{\hat{\beta}_0}|)\)</span>.<a href="#fn15" class="footnote-ref" id="fnref15"><sup>15</sup></a> We can use the function <em>pt</em> to calculate the area below the <em>t</em> distribution at the right of our <span class="math inline">\(t_{\hat{\beta}_0}\)</span>. Don’t forget to multiply this quantity by two as we need the p-value for a two-sided test.</p>
<pre><code>## [1] 18.70735</code></pre>
<p>We have a relatively large sample. We know that the <em>t</em> distribution converges to the standard normal distribution as the number of observation in the sample approaches infinity (meaning that the quantiles of the <em>t</em> distribution and the standard normal distribution are the same). Therefore, we can obtain (almost) the same result using the function <em>pnorm</em>.</p>
<pre><code>## [1] 18.64969</code></pre>
<p>We can check that we will actually reject <span class="math inline">\(H_0\)</span> for a significance level larger than our p-value. Let’s try to see what’s happening when the significance level is 20%.<a href="#fn16" class="footnote-ref" id="fnref16"><sup>16</sup></a> As before, we reject <span class="math inline">\(H_0\)</span> if <span class="math inline">\(|t_{\hat{\beta}_0}| &gt; t_{crit}\)</span> otherwise we will fail to reject <span class="math inline">\(H_0\)</span>.</p>
<pre><code>## [1] TRUE</code></pre>
<p>Given the result of the test, we reject <span class="math inline">\(H_0\)</span> at the 20% significance level. We can also build a 95% confidence interval for the intercept:<a href="#fn17" class="footnote-ref" id="fnref17"><sup>17</sup></a></p>
<pre><code>## [1] -2.250472</code></pre>
<pre><code>## [1] 0.4407687</code></pre>
<p>Since the value of 0 is contained in the confidence interval, we fail to reject <span class="math inline">\(H_0\)</span> at 5% significance level. The <span class="math inline">\(H_0\)</span> is rejected if and only if the value 0 is not contained in the 95% confidence interval. There is no need to repeat all these steps above every time. The <em>confint</em> function allows us to quickly calculate the confidence interval.</p>
<pre><code>##                 2.5 %    97.5 %
## (Intercept) -2.250472 0.4407687</code></pre>
<p>Now, we perform a two-sided <em>t</em> test for the slope parameter. We want to test the null hypothesis (<span class="math inline">\(H_0\)</span>) that <span class="math inline">\(\beta_1 = 0\)</span> against the alternative hypothesis (<span class="math inline">\(H_1\)</span>) <span class="math inline">\(\beta_1 \neq 0\)</span>. Since we are interested in a two-sided test, we will take the absolute value of our <em>t</em> statistic. As we know, we reject <span class="math inline">\(H_0\)</span> if <span class="math inline">\(|t_{\hat{\beta}_1}| &gt; t_{crit}\)</span>, otherwise, we fail to reject <span class="math inline">\(H_0\)</span>.</p>
<pre><code>## [1] TRUE</code></pre>
<p>What is the conclusion of the test? We can reject <span class="math inline">\(H_0\)</span> that <span class="math inline">\(\beta_1 = 0\)</span> at the 5% significance level. Can we reject <span class="math inline">\(H_0\)</span> also at the 1% significance level? We must first calculate the critical value for a 1% significance level with 524 degrees of freedom.</p>
<pre><code>## [1] TRUE</code></pre>
<p>We can reject <span class="math inline">\(H_0\)</span> that <span class="math inline">\(\beta_1 = 0\)</span> also at the 1% significance level. We can also build a 95% confidence interval for the slope parameter.</p>
<pre><code>## [1] 0.4367534</code></pre>
<pre><code>## [1] 0.6459651</code></pre>
<p>Since the value of 0 is not contained in the confidence interval, we reject <span class="math inline">\(H_0\)</span> at 5% significance level. Also here we can check our result using the <em>confint</em> function.</p>
<pre><code>##          2.5 %    97.5 %
## educ 0.4367534 0.6459651</code></pre>
<div id="f-statistic-for-overall-significance-of-a-regression" class="section level2 hasAnchor" number="13.1">
<h2><span class="header-section-number">13.1</span> F statistic for overall significance of a regression<a href="the-t-test-in-the-regression.html#f-statistic-for-overall-significance-of-a-regression" class="anchor-section" aria-label="Anchor link to header"></a></h2>
</div>
<div id="the-f-test" class="section level2 hasAnchor" number="13.2">
<h2><span class="header-section-number">13.2</span> The <em>F</em> test<a href="the-t-test-in-the-regression.html#the-f-test" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The <em>F</em> test is used to test whether a group of variables has no effect on the dependent variable. In this sense, the test allows to test if the parameters of a set (or at the limit all) the independent variables are <strong>jointly significance</strong>. Obviously it is the theory or intuition that tells us to operate such a test on a given group of variables. It is often the case that the <em>F</em> test is performed on all independent variables in a model. It is then said that the test is for the overall significance of the regression. In this exercise, to understand how the <em>F</em> test works in practice, we will replicate the <em>F</em> test provided by the regression function in R (as by any other statistical software packages). This is precisely a test for overall joint significance of the regression. We estimate the following model:</p>
<p><span class="math display">\[wage = \beta_0 + \beta_1educ + \beta_2exper + \beta_3tenure + u\]</span></p>
<p>We formulate the following joint null hypothesis (<span class="math inline">\(H_0\)</span>) stating that the regressors have jointly no effect on the dependent variable:</p>
<p><span class="math display">\[H_0 : \beta_1 = \beta_2 = \beta_3 = 0\]</span></p>
<p>The alternative hypothesis (<span class="math inline">\(H_1\)</span>) is:</p>
<p><span class="math display">\[H_1 : H_0 \space \text{is not true}\]</span></p>
<p>The formula for the <em>F</em> statistic (or <em>F</em> ratio), where <span class="math inline">\(q\)</span> is the number of restrictions (in this example we are imposing three restrictions), and <span class="math inline">\(n-k-1\)</span> is the number of degrees of freedom of the unrestricted model, is defined by:<a href="#fn18" class="footnote-ref" id="fnref18"><sup>18</sup></a></p>
<p><span class="math display">\[F = \frac{SSR_r - SSR_{ur}}{SSR_{ur}} * \frac{(n-k-1)}{q}\]</span></p>
<p>First, we estimate the <em>unrestricted</em> model. With this term, we mean the entire or complete model:</p>
<p>We can now calculate the sum of squared residual (SSR) of the unrestricted model:</p>
<p>We then estimate the <em>restricted</em> model. The restricted model has clearly less parameters than the unrestricted model. Since we are performing an <em>F</em> test for the overall significance of the regression, we must regress the dependent variable <em>wage</em> on just an intercept. In R, this is done by including only a “1” after the <em>tilde</em> sign in the <em>lm</em> function.</p>
<p>We can now calculate the SSR of the restricted model.</p>
<p>We report the results in a single table created using the <em>stargazer</em> package.</p>
<p>Finally, we can calculate the <em>F</em> statistic and its corresponding p-value. We compare the value of our <em>F</em> statistic (and its p-value) with the value provided by R (see the last row of the first column in the table above).</p>
<pre><code>## [1] 76.87317</code></pre>
<pre><code>## [1] 3.405862e-41</code></pre>
<p>We choose a significance level (<span class="math inline">\(\alpha\)</span>) of 1% and calculate the corresponding critical value in the <em>F</em> distribution.</p>
<pre><code>## [1] 3.819327</code></pre>
<p>What is the conclusion of the test? We can observe that our <em>F</em> value is clearly larger the critical value for the chosen significance level of 1%. Our p-value is also very very small, certainly smaller than the significance level of 1%. We can therefore soundly reject the null hypothesis that the variables are not jointly significant. We can also create the graph of the <em>F</em> distribution. In green we mark the rejection region for the significance level that we have choosen.</p>
<p><img src="Intro_to_quant_methods_files/figure-html/unnamed-chunk-66-1.png" width="70%" height="30%" style="display: block; margin: auto;" /></p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="15">
<li id="fn15"><p>See Wooldridge p. 126.<a href="the-t-test-in-the-regression.html#fnref15" class="footnote-back">↩︎</a></p></li>
<li id="fn16"><p>Such a large significance level is never used in practice!<a href="the-t-test-in-the-regression.html#fnref16" class="footnote-back">↩︎</a></p></li>
<li id="fn17"><p>See Wooldridge p. 130.<a href="the-t-test-in-the-regression.html#fnref17" class="footnote-back">↩︎</a></p></li>
<li id="fn18"><p>The number of degrees of freedom of the unrestricted model is given by <span class="math inline">\(n-k-1\)</span> where <span class="math inline">\(n\)</span> is the number of observations, <span class="math inline">\(k\)</span> is the number of independent variables and <span class="math inline">\(1\)</span> stands for the coefficient of the intercept.<a href="the-t-test-in-the-regression.html#fnref18" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="example-1.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="chapter9.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Intro_to_quant_methods.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
